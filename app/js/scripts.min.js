!function(){"use strict";angular.module("app",["slickCarousel","app.routes","app.controllers","app.services","app.components"])}(),function(){"use strict";angular.module("app.routes",["ngRoute"]).config(["$routeProvider","$locationProvider",function(o,t){o.when("/",{templateUrl:"src/views/home.html",controller:"mainController",controllerAs:"mainCtrl"}).when("/product/:product_id",{templateUrl:"src/views/product.html",controller:"productController",controllerAs:"productCtrl"}).otherwise({redirectTo:"/"})}])}(),function(){"use strict";angular.module("app.components",["app.components.productsList"])}(),function(){"use strict";function o(){var o=this;o.categories={men:!0,women:!1,children:!0},o.seeAllProducts=function(){for(var t in o.categories)o.categories[t]=!0}}angular.module("app.controllers.mainController",[]).controller("mainController",o),o.$inject=[]}(),function(){"use strict";angular.module("app.controllers",["app.controllers.mainController","app.controllers.productController"])}(),function(){"use strict";function o(o,t,r){var n=this;n.product={},r.get({product_id:t.product_id}).$promise.then(function(o){console.log(o),n.product=o}).catch(function(o){404===o.status&&n.backToMain()}),n.backToMain=function(){o.history.back()}}angular.module("app.controllers.productController",[]).controller("productController",o),o.$inject=["$window","$routeParams","Product"]}(),function(){"use strict";angular.module("app.services",["app.services.product"])}(),function(){"use strict";function o(o,r,n){var e=this;e.products=[],e.settings={dots:!0,infinite:!1,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}],event:{init:function(o,r){t(e,r,r.activeBreakpoint)},breakpoint:function(o,r,n){t(e,r,n)}}},e.push=function(o){var t="/product/"+o;r.url(t)},e.$onInit=function(){n.query(function(o){e.products=o[e.category],e.allPages=Math.ceil(e.products.length/3)})},e.$onChanges=function(t){e.isOdd="true"===e.odd;var r=e.products;e.products=[],o(function(){e.products=r},0)}}function t(o,t,r){o.allPages=768==r?t.slideCount:1200==r?Math.ceil(t.slideCount/2):Math.ceil(t.slideCount/3)}angular.module("app.components.productsList",["app.services"]).component("productsList",{templateUrl:"src/components/products-list/products-list.template.html",controller:o,bindings:{category:"@",sortProp:"@",odd:"@"}}),o.$inject=["$timeout","$location","Product"]}(),function(){"use strict";function o(o){return o("src/clothes/:product_id.json",{},{query:{method:"GET",params:{product_id:"clothes"}}})}angular.module("app.services.product",["ngResource"]).factory("Product",o),o.$inject=["$resource"]}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFwcC5yb3V0ZXMuanMiLCJjb21wb25lbnRzL21vZHVsZS5qcyIsImNvbnRyb2xsZXJzL21haW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvbW9kdWxlLmpzIiwiY29udHJvbGxlcnMvcHJvZHVjdENvbnRyb2xsZXIuanMiLCJzZXJ2aWNlcy9tb2R1bGUuanMiLCJjb21wb25lbnRzL3Byb2R1Y3RzLWxpc3QvcHJvZHVjdHMtbGlzdC5jb21wb25lbnQuanMiLCJzZXJ2aWNlcy9wcm9kdWN0L3Byb2R1Y3Quc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwibWFpbkNvbnRyb2xsZXIiLCJ2bSIsInRoaXMiLCJjYXRlZ29yaWVzIiwibWVuIiwid29tZW4iLCJjaGlsZHJlbiIsInNlZUFsbFByb2R1Y3RzIiwia2V5IiwiJGluamVjdCIsInByb2R1Y3RDb250cm9sbGVyIiwiJHdpbmRvdyIsIiRyb3V0ZVBhcmFtcyIsIlByb2R1Y3QiLCJwcm9kdWN0IiwiZ2V0IiwicHJvZHVjdF9pZCIsIiRwcm9taXNlIiwidGhlbiIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciIsInN0YXR1cyIsImJhY2tUb01haW4iLCJoaXN0b3J5IiwiYmFjayIsInByb2R1Y3RzTGlzdENvbnRyb2xsZXIiLCIkdGltZW91dCIsIiRsb2NhdGlvbiIsIiRjdHJsIiwicHJvZHVjdHMiLCJzZXR0aW5ncyIsImRvdHMiLCJpbmZpbml0ZSIsInNsaWRlc1RvU2hvdyIsInNsaWRlc1RvU2Nyb2xsIiwicmVzcG9uc2l2ZSIsImJyZWFrcG9pbnQiLCJldmVudCIsImluaXQiLCJzbGljayIsImdldEFsbFBhZ2VzQ291bnQiLCJhY3RpdmVCcmVha3BvaW50IiwicHVzaCIsImlkIiwidXJsIiwiJG9uSW5pdCIsInF1ZXJ5IiwiY2F0ZWdvcnkiLCJhbGxQYWdlcyIsIk1hdGgiLCJjZWlsIiwibGVuZ3RoIiwiJG9uQ2hhbmdlcyIsImNoYW5nZXNPYmoiLCJpc09kZCIsIm9kZCIsInRlbXAiLCJjb250ZXh0Iiwic2xpZGVDb3VudCIsImNvbXBvbmVudCIsImJpbmRpbmdzIiwic29ydFByb3AiLCIkcmVzb3VyY2UiLCJtZXRob2QiLCJwYXJhbXMiLCJmYWN0b3J5Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBRUFBLFNBQUFDLE9BQUEsT0FDQSxnQkFDQSxhQUNBLGtCQUNBLGVBQ0Esc0JDUkEsV0FDQSxZQUVBRCxTQUFBQyxPQUFBLGNBQUEsWUFFQUMsUUFBQSxpQkFBQSxvQkFBQSxTQUFBQyxFQUFBQyxHQUNBRCxFQUNBRSxLQUFBLEtBQ0FDLFlBQUEsc0JBQ0FDLFdBQUEsaUJBQ0FDLGFBQUEsYUFFQUgsS0FBQSx3QkFDQUMsWUFBQSx5QkFDQUMsV0FBQSxvQkFDQUMsYUFBQSxnQkFFQUMsV0FDQUMsV0FBQSxZQ2xCQSxXQUNBLFlBRUFWLFNBQUFDLE9BQUEsa0JBQ0EsbUNDSkEsV0FDQSxZQVFBLFNBQUFVLEtBQ0EsR0FBQUMsR0FBQUMsSUFFQUQsR0FBQUUsWUFDQUMsS0FBQSxFQUNBQyxPQUFBLEVBQ0FDLFVBQUEsR0FHQUwsRUFBQU0sZUFBQSxXQUNBLElBQUEsR0FBQUMsS0FBQVAsR0FBQUUsV0FDQUYsRUFBQUUsV0FBQUssSUFBQSxHQWpCQW5CLFFBQ0FDLE9BQUEscUNBQ0FNLFdBQUEsaUJBQUFJLEdBRUFBLEVBQUFTLGNDUEEsV0FDQSxZQUVBcEIsU0FBQUMsT0FBQSxtQkFDQSxpQ0FDQSx5Q0NMQSxXQUNBLFlBT0EsU0FBQW9CLEdBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQVosR0FBQUMsSUFDQUQsR0FBQWEsV0FFQUQsRUFDQUUsS0FBQUMsV0FBQUosRUFBQUksYUFDQUMsU0FDQUMsS0FBQSxTQUFBQyxHQUNBQyxRQUFBQyxJQUFBRixHQUNBbEIsRUFBQWEsUUFBQUssSUFFQUcsTUFBQSxTQUFBQyxHQUNBLE1BQUFBLEVBQUFDLFFBQ0F2QixFQUFBd0IsZUFJQXhCLEVBQUF3QixXQUFBLFdBQ0FkLEVBQUFlLFFBQUFDLFFBdkJBdEMsUUFDQUMsT0FBQSx3Q0FDQU0sV0FBQSxvQkFBQWMsR0FFQUEsRUFBQUQsU0FBQSxVQUFBLGVBQUEsY0NQQSxXQUNBLFlBRUFwQixTQUFBQyxPQUFBLGdCQUNBLDRCQ0pBLFdBQ0EsWUFnQkEsU0FBQXNDLEdBQUFDLEVBQUFDLEVBQUFqQixHQUNBLEdBQUFrQixHQUFBN0IsSUFFQTZCLEdBQUFDLFlBRUFELEVBQUFFLFVBQ0FDLE1BQUEsRUFDQUMsVUFBQSxFQUNBQyxhQUFBLEVBQ0FDLGVBQUEsRUFDQUMsYUFFQUMsV0FBQSxLQUNBTixVQUNBRyxhQUFBLEVBQ0FDLGVBQUEsS0FJQUUsV0FBQSxJQUNBTixVQUNBRyxhQUFBLEVBQ0FDLGVBQUEsS0FJQUcsT0FDQUMsS0FBQSxTQUFBRCxFQUFBRSxHQUNBQyxFQUFBWixFQUFBVyxFQUFBQSxFQUFBRSxtQkFFQUwsV0FBQSxTQUFBQyxFQUFBRSxFQUFBSCxHQUNBSSxFQUFBWixFQUFBVyxFQUFBSCxNQUtBUixFQUFBYyxLQUFBLFNBQUFDLEdBQ0EsR0FBQUMsR0FBQSxZQUFBRCxDQUNBaEIsR0FBQWlCLElBQUFBLElBR0FoQixFQUFBaUIsUUFBQSxXQUNBbkMsRUFBQW9DLE1BQUEsU0FBQTlCLEdBQ0FZLEVBQUFDLFNBQUFiLEVBQUFZLEVBQUFtQixVQUNBbkIsRUFBQW9CLFNBQUFDLEtBQUFDLEtBQUF0QixFQUFBQyxTQUFBc0IsT0FBQSxNQUtBdkIsRUFBQXdCLFdBQUEsU0FBQUMsR0FDQXpCLEVBQUEwQixNQUFBLFNBQUExQixFQUFBMkIsR0FFQSxJQUFBQyxHQUFBNUIsRUFBQUMsUUFHQUQsR0FBQUMsWUFFQUgsRUFBQSxXQUNBRSxFQUFBQyxTQUFBMkIsR0FDQSxJQU1BLFFBQUFoQixHQUFBaUIsRUFBQWxCLEVBQUFILEdBRUFxQixFQUFBVCxTQURBLEtBQUFaLEVBQ0FHLEVBQUFtQixXQUNBLE1BQUF0QixFQUNBYSxLQUFBQyxLQUFBWCxFQUFBbUIsV0FBQSxHQUVBVCxLQUFBQyxLQUFBWCxFQUFBbUIsV0FBQSxHQXJGQXhFLFFBQ0FDLE9BQUEsK0JBQUEsaUJBQ0F3RSxVQUFBLGdCQUNBbkUsWUFBQSwyREFDQUMsV0FBQWdDLEVBQ0FtQyxVQUNBYixTQUFBLElBQ0FjLFNBQUEsSUFDQU4sSUFBQSxPQUlBOUIsRUFBQW5CLFNBQUEsV0FBQSxZQUFBLGNDZkEsV0FDQSxZQVFBLFNBQUFJLEdBQUFvRCxHQUNBLE1BQUFBLEdBQUEsbUNBQ0FoQixPQUNBaUIsT0FBQSxNQUNBQyxRQUFBbkQsV0FBQSxjQVZBM0IsUUFDQUMsT0FBQSx3QkFBQSxlQUNBOEUsUUFBQSxVQUFBdkQsR0FFQUEsRUFBQUosU0FBQSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xyXG4gICAgICAgICdzbGlja0Nhcm91c2VsJyxcclxuICAgICAgICAnYXBwLnJvdXRlcycsXHJcbiAgICAgICAgJ2FwcC5jb250cm9sbGVycycsXHJcbiAgICAgICAgJ2FwcC5zZXJ2aWNlcycsXHJcbiAgICAgICAgJ2FwcC5jb21wb25lbnRzJ1xyXG4gICAgXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciByb3V0ZXMgPSBhbmd1bGFyLm1vZHVsZSgnYXBwLnJvdXRlcycsIFsnbmdSb3V0ZSddKTtcclxuXHJcbiAgICByb3V0ZXMuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuICAgICAgICAkcm91dGVQcm92aWRlclxyXG4gICAgICAgICAgICAud2hlbignLycsIHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3JjL3ZpZXdzL2hvbWUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnbWFpbkN0cmwnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC53aGVuKCcvcHJvZHVjdC86cHJvZHVjdF9pZCcsIHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3JjL3ZpZXdzL3Byb2R1Y3QuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncHJvZHVjdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncHJvZHVjdEN0cmwnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vdGhlcndpc2Uoe1xyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogJy8nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgLy8gJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xyXG4gICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbXBvbmVudHMnLCBbXHJcbiAgICAgICAgJ2FwcC5jb21wb25lbnRzLnByb2R1Y3RzTGlzdCdcclxuICAgIF0pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzLm1haW5Db250cm9sbGVyJywgW10pXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ21haW5Db250cm9sbGVyJywgbWFpbkNvbnRyb2xsZXIpO1xyXG5cclxuICAgIG1haW5Db250cm9sbGVyLiRpbmplY3QgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBtYWluQ29udHJvbGxlcigpIHsgICAgICAgIFxyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdm0uY2F0ZWdvcmllcyA9IHtcclxuICAgICAgICAgICAgbWVuOiB0cnVlLFxyXG4gICAgICAgICAgICB3b21lbjogZmFsc2UsXHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiB0cnVlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdm0uc2VlQWxsUHJvZHVjdHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHZtLmNhdGVnb3JpZXMpIHtcclxuICAgICAgICAgICAgICAgIHZtLmNhdGVnb3JpZXNba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnLCBbXHJcbiAgICAgICAgJ2FwcC5jb250cm9sbGVycy5tYWluQ29udHJvbGxlcicsXHJcbiAgICAgICAgJ2FwcC5jb250cm9sbGVycy5wcm9kdWN0Q29udHJvbGxlcidcclxuICAgIF0pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzLnByb2R1Y3RDb250cm9sbGVyJywgW10pXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3Byb2R1Y3RDb250cm9sbGVyJywgcHJvZHVjdENvbnRyb2xsZXIpO1xyXG5cclxuICAgIHByb2R1Y3RDb250cm9sbGVyLiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnJHJvdXRlUGFyYW1zJywgJ1Byb2R1Y3QnXTtcclxuICAgIGZ1bmN0aW9uIHByb2R1Y3RDb250cm9sbGVyKCR3aW5kb3csICRyb3V0ZVBhcmFtcywgUHJvZHVjdCkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0ucHJvZHVjdCA9IHt9O1xyXG5cclxuICAgICAgICBQcm9kdWN0XHJcbiAgICAgICAgICAgIC5nZXQoeyBwcm9kdWN0X2lkOiAkcm91dGVQYXJhbXMucHJvZHVjdF9pZCB9KVxyXG4gICAgICAgICAgICAuJHByb21pc2VcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgICAgICAgdm0ucHJvZHVjdCA9IHJlcztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLmJhY2tUb01haW4oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdm0uYmFja1RvTWFpbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkd2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5zZXJ2aWNlcycsIFtcclxuICAgICAgICAnYXBwLnNlcnZpY2VzLnByb2R1Y3QnXHJcbiAgICBdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBcclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuY29tcG9uZW50cy5wcm9kdWN0c0xpc3QnLCBbJ2FwcC5zZXJ2aWNlcyddKVxyXG4gICAgICAgIC5jb21wb25lbnQoJ3Byb2R1Y3RzTGlzdCcsIHtcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvY29tcG9uZW50cy9wcm9kdWN0cy1saXN0L3Byb2R1Y3RzLWxpc3QudGVtcGxhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IHByb2R1Y3RzTGlzdENvbnRyb2xsZXIsXHJcbiAgICAgICAgICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ0AnLFxyXG4gICAgICAgICAgICAgICAgc29ydFByb3A6ICdAJyxcclxuICAgICAgICAgICAgICAgIG9kZDogJ0AnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICBwcm9kdWN0c0xpc3RDb250cm9sbGVyLiRpbmplY3QgPSBbJyR0aW1lb3V0JywgJyRsb2NhdGlvbicsICdQcm9kdWN0J107XHJcblxyXG4gICAgZnVuY3Rpb24gcHJvZHVjdHNMaXN0Q29udHJvbGxlcigkdGltZW91dCwgJGxvY2F0aW9uLCBQcm9kdWN0KSB7XHJcbiAgICAgICAgdmFyICRjdHJsID0gdGhpcztcclxuXHJcbiAgICAgICAgJGN0cmwucHJvZHVjdHMgPSBbXTtcclxuICAgICAgICBcclxuICAgICAgICAkY3RybC5zZXR0aW5ncyA9IHtcclxuICAgICAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICAgICAgaW5maW5pdGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAzLFxyXG4gICAgICAgICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogMTIwMCxcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAyXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA3NjgsXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKGV2ZW50LCBzbGljaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGdldEFsbFBhZ2VzQ291bnQoJGN0cmwsIHNsaWNrLCBzbGljay5hY3RpdmVCcmVha3BvaW50KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBicmVha3BvaW50OiBmdW5jdGlvbihldmVudCwgc2xpY2ssIGJyZWFrcG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXRBbGxQYWdlc0NvdW50KCRjdHJsLCBzbGljaywgYnJlYWtwb2ludCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnB1c2ggPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgICAgICB2YXIgdXJsID0gJy9wcm9kdWN0LycgKyBpZDtcclxuICAgICAgICAgICAgJGxvY2F0aW9uLnVybCh1cmwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBQcm9kdWN0LnF1ZXJ5KGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwucHJvZHVjdHMgPSByZXNbJGN0cmwuY2F0ZWdvcnldO1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuYWxsUGFnZXMgPSBNYXRoLmNlaWwoJGN0cmwucHJvZHVjdHMubGVuZ3RoIC8gMyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgICRjdHJsLiRvbkNoYW5nZXMgPSBmdW5jdGlvbihjaGFuZ2VzT2JqKSB7XHJcbiAgICAgICAgICAgICRjdHJsLmlzT2RkID0gJGN0cmwub2RkID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGVtcCA9ICRjdHJsLnByb2R1Y3RzO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8g0LzQsNGB0YHQuNCyINC+0LHQvdGD0LvRj9C10YLRgdGPINGH0YLQvtCx0Ysgc2xpY2sg0L/QtdGA0LXQuNC90LjRhtC40LDQu9C40LfQuNGA0L7QstCw0LvRgdGPINC/0YDQuCDQv9C+0Y/QstC70LXQvdC40Lgg0L3QvtCy0YvRhSDRjdC70LXQvNC10L3RgtC+0LJcclxuICAgICAgICAgICAgJGN0cmwucHJvZHVjdHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwucHJvZHVjdHMgPSB0ZW1wO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyAkY3RybC4kb25EZXN0cm95ID0gZnVuY3Rpb24oKSB7IH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0QWxsUGFnZXNDb3VudChjb250ZXh0LCBzbGljaywgYnJlYWtwb2ludCkge1xyXG4gICAgICAgIGlmIChicmVha3BvaW50ID09IDc2OCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmFsbFBhZ2VzID0gc2xpY2suc2xpZGVDb3VudDtcclxuICAgICAgICB9IGVsc2UgaWYgKGJyZWFrcG9pbnQgPT0gMTIwMCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmFsbFBhZ2VzID0gTWF0aC5jZWlsKHNsaWNrLnNsaWRlQ291bnQgLyAyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250ZXh0LmFsbFBhZ2VzID0gTWF0aC5jZWlsKHNsaWNrLnNsaWRlQ291bnQgLyAzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnNlcnZpY2VzLnByb2R1Y3QnLCBbJ25nUmVzb3VyY2UnXSlcclxuICAgICAgICAuZmFjdG9yeSgnUHJvZHVjdCcsIFByb2R1Y3QpO1xyXG5cclxuICAgIFByb2R1Y3QuJGluamVjdCA9IFsnJHJlc291cmNlJ107XHJcblxyXG4gICAgZnVuY3Rpb24gUHJvZHVjdCgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKCdzcmMvY2xvdGhlcy86cHJvZHVjdF9pZC5qc29uJywge30sIHtcclxuICAgICAgICAgICAgcXVlcnk6IHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgcHJvZHVjdF9pZDogJ2Nsb3RoZXMnfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pKCk7Il19
